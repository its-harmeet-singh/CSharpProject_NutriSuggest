@model List<FavoriteRecipeViewModel>

@{
    ViewData["Title"] = "My Favorites";
}

<style>
    body {
        background-color: #f5f7fa;
    }

    .card {
        background-color: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        transition: transform 0.2s ease-in-out;
    }

        .card:hover {
            transform: translateY(-4px);
        }

    .card-title a {
        color: #2c7be5;
    }

        .card-title a:hover {
            text-decoration: underline;
        }

    .badge-rating {
        font-size: 0.85rem;
        padding: 0.5em 0.75em;
        background-color: #ffc107;
        color: #212529;
        border-radius: 0.5rem;
    }

    .btn-outline-danger {
        border-width: 1.5px;
    }
</style>

<div class="container py-5">
    <h1 class="mb-4 text-center text-danger fw-bold">❤️ My Favorite Recipes</h1>

    @if (Model.Any())
    {
        <div class="row row-cols-1 row-cols-md-2 g-4">
            @foreach (var f in Model)
            {
                <div class="col">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column justify-content-between">
                            <div>
                                <h5 class="card-title">
                                    <a asp-action="Details" asp-route-id="@f.Id">
                                        @f.RecipeTitle
                                    </a>
                                </h5>

                                <p class="mb-2 text-muted">
                                    <i class="bi bi-calendar-event"></i>
                                    <strong>Favorited:</strong> @f.FavoritedAt.ToLocalTime().ToString("f")
                                </p>

                                <p class="mb-3">
                                    <span class="badge-rating">
                                        ⭐ Rating: @(f.Rating.HasValue? f.Rating.Value.ToString() : "Not rated")
                                    </span>
                                </p>
                            </div>

                            <form asp-action="DeleteFavorite" method="post">
                                <input type="hidden" name="id" value="@f.Id" />
                                <button type="submit" class="btn btn-sm btn-outline-danger w-100">
                                    🗑️ Remove from Favorites
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <div class="alert alert-info text-center">
            You have no favorite recipes yet. Start exploring and saving your favorite meals!
        </div>
    }
</div>
